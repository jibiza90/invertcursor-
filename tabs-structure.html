<!-- ESTRUCTURA DE PESTA√ëAS - INTEGRACI√ìN SEGURA -->
<!-- NO MODIFICA NADA EXISTENTE - SE A√ëADE COMO CAPA SUPERIOR -->

<div id="tabs-container" class="tabs-container">
    <!-- Navegaci√≥n de Pesta√±as -->
    <div class="tabs-navigation">
        <button class="tab-button active" data-tab="dashboard">
            üè† Dashboard
        </button>
        <button class="tab-button" data-tab="analytics">
            üìà An√°lisis Avanzado
        </button>
        <button class="tab-button" data-tab="reporting">
            üìã Reporting
        </button>
        <button class="tab-button" data-tab="visualizations">
            üé® Visualizaciones
        </button>
        <button class="tab-button" data-tab="import-export">
            üì§ Import/Export
        </button>
        <button class="tab-button" data-tab="data-quality">
            üîç Calidad Datos
        </button>
        <button class="tab-button" data-tab="settings">
            ‚öôÔ∏è Configuraci√≥n
        </button>
    </div>

    <!-- Contenido de Pesta√±as -->
    <div class="tabs-content">
        
        <!-- PESTA√ëA 1: DASHBOARD (EXISTENTE - SIN MODIFICAR) -->
        <div id="tab-dashboard" class="tab-content active">
            <!-- CONTENIDO EXISTENTE SE CARGAR√Å AQU√ç -->
            <div id="existing-content-wrapper">
                <!-- TODO EL CONTENIDO ACTUAL SE MANTENDR√Å AQU√ç -->
            </div>
        </div>

        <!-- PESTA√ëA 2: AN√ÅLISIS AVANZADO -->
        <div id="tab-analytics" class="tab-content">
            <div class="tab-header">
                <h2>üìà An√°lisis Avanzado</h2>
            </div>
            
            <!-- Sub-pesta√±as de An√°lisis -->
            <div class="sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="comparison">
                    Comparaci√≥n Multi-Cliente
                </button>
                <button class="sub-tab-button" data-sub-tab="metrics">
                    M√©tricas Profesionales
                </button>
                <button class="sub-tab-button" data-sub-tab="projections">
                    Proyecciones
                </button>
            </div>

            <!-- Contenido de Sub-pesta√±as -->
            <div class="sub-tabs-content">
                <div id="sub-tab-comparison" class="sub-tab-content active">
                    <div class="analytics-section">
                        <h3>üîç Comparaci√≥n Multi-Cliente</h3>
                        <div id="multi-client-comparison">
                            <!-- Gr√°ficos comparativos se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-metrics" class="sub-tab-content">
                    <div class="analytics-section">
                        <h3>üìä M√©tricas Profesionales</h3>
                        <div id="professional-metrics">
                            <!-- M√©tricas avanzadas se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-projections" class="sub-tab-content">
                    <div class="analytics-section">
                        <h3>üéØ Proyecciones</h3>
                        <div id="projections-analysis">
                            <!-- An√°lisis proyectivos se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTA√ëA 3: REPORTING -->
        <div id="tab-reporting" class="tab-content">
            <div class="tab-header">
                <h2>üìã Reporting Profesional</h2>
            </div>
            
            <!-- Sub-pesta√±as de Reporting -->
            <div class="sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="pdf-reports">
                    Informes PDF
                </button>
                <button class="sub-tab-button" data-sub-tab="executive-dashboard">
                    Dashboard Ejecutivo
                </button>
                <button class="sub-tab-button" data-sub-tab="history">
                    Historial Completo
                </button>
            </div>

            <!-- Contenido de Sub-pesta√±as -->
            <div class="sub-tabs-content">
                <div id="sub-tab-pdf-reports" class="sub-tab-content active">
                    <div class="reporting-section">
                        <h3>üìÑ Generador de Informes PDF</h3>
                        <div id="pdf-generator">
                            <!-- Generador de PDF se cargar√° aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-executive-dashboard" class="sub-tab-content">
                    <div class="reporting-section">
                        <h3>üéØ Dashboard Ejecutivo</h3>
                        <div id="executive-dashboard">
                            <!-- Dashboard ejecutivo se cargar√° aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-history" class="sub-tab-content">
                    <div class="reporting-section">
                        <h3>üìã Historial Completo</h3>
                        <div id="complete-history">
                            <!-- Timeline de operaciones se cargar√° aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTA√ëA 4: VISUALIZACIONES -->
        <div id="tab-visualizations" class="tab-content">
            <div class="tab-header">
                <h2>üé® Visualizaciones Interactivas</h2>
            </div>
            
            <!-- Sub-pesta√±as de Visualizaciones -->
            <div class="sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="3d-charts">
                    Gr√°ficos 3D
                </button>
                <button class="sub-tab-button" data-sub-tab="heatmaps">
                    Heatmaps
                </button>
                <button class="sub-tab-button" data-sub-tab="animations">
                    Animaciones
                </button>
            </div>

            <!-- Contenido de Sub-pesta√±as -->
            <div class="sub-tabs-content">
                <div id="sub-tab-3d-charts" class="sub-tab-content active">
                    <div class="visualization-section">
                        <h3>üéÆ Gr√°ficos 3D</h3>
                        <div id="3d-charts-container">
                            <!-- Gr√°ficos 3D se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-heatmaps" class="sub-tab-content">
                    <div class="visualization-section">
                        <h3>üî• Heatmaps</h3>
                        <div id="heatmaps-container">
                            <!-- Matrices de calor se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-animations" class="sub-tab-content">
                    <div class="visualization-section">
                        <h3>‚ú® Animaciones</h3>
                        <div id="animations-container">
                            <!-- Animaciones interactivas se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTA√ëA 5: IMPORT/EXPORT -->
        <div id="tab-import-export" class="tab-content">
            <div class="tab-header">
                <h2>üì§ Import/Export Seguro</h2>
            </div>
            
            <!-- Sub-pesta√±as de Import/Export -->
            <div class="sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="export">
                    Exportar Datos
                </button>
                <button class="sub-tab-button" data-sub-tab="import">
                    Importar Datos
                </button>
            </div>

            <!-- Contenido de Sub-pesta√±as -->
            <div class="sub-tabs-content">
                <div id="sub-tab-export" class="sub-tab-content active">
                    <div class="import-export-section">
                        <h3>üì§ Exportar Datos</h3>
                        <div id="export-controls">
                            <!-- Controles de exportaci√≥n se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-import" class="sub-tab-content">
                    <div class="import-export-section">
                        <h3>üì• Importar Datos</h3>
                        <div id="import-controls">
                            <!-- Controles de importaci√≥n se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTA√ëA 6: CALIDAD DE DATOS -->
        <div id="tab-data-quality" class="tab-content">
            <div class="tab-header">
                <h2>üîç Calidad de Datos</h2>
            </div>
            
            <!-- Sub-pesta√±as de Calidad -->
            <div class="sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="validation">
                    Validaci√≥n
                </button>
                <button class="sub-tab-button" data-sub-tab="cleaning">
                    Limpieza
                </button>
            </div>

            <!-- Contenido de Sub-pesta√±as -->
            <div class="sub-tabs-content">
                <div id="sub-tab-validation" class="sub-tab-content active">
                    <div class="data-quality-section">
                        <h3>‚ö†Ô∏è Validaci√≥n Autom√°tica</h3>
                        <div id="validation-controls">
                            <!-- Controles de validaci√≥n se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-cleaning" class="sub-tab-content">
                    <div class="data-quality-section">
                        <h3>üßπ Data Cleaning</h3>
                        <div id="cleaning-controls">
                            <!-- Controles de limpieza se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PESTA√ëA 7: CONFIGURACI√ìN -->
        <div id="tab-settings" class="tab-content">
            <div class="tab-header">
                <h2>‚öôÔ∏è Configuraci√≥n</h2>
            </div>
            
            <!-- Sub-pesta√±as de Configuraci√≥n -->
            <div class="sub-tabs">
                <button class="sub-tab-button active" data-sub-tab="themes">
                    Temas
                </button>
                <button class="sub-tab-button" data-sub-tab="responsive">
                    Responsive
                </button>
            </div>

            <!-- Contenido de Sub-pesta√±as -->
            <div class="sub-tabs-content">
                <div id="sub-tab-themes" class="sub-tab-content active">
                    <div class="settings-section">
                        <h3>üåì Temas Personalizados</h3>
                        <div id="theme-controls">
                            <!-- Controles de temas se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div id="sub-tab-responsive" class="sub-tab-content">
                    <div class="settings-section">
                        <h3>üì± Optimizaci√≥n Responsive</h3>
                        <div id="responsive-controls">
                            <!-- Controles responsive se cargar√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Script de Integraci√≥n Segura -->
<script>
// INTEGRACI√ìN SEGURA - NO MODIFICA NADA EXISTENTE
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ Inicializando sistema de pesta√±as seguro...');
    
    // Mover contenido existente al wrapper de la pesta√±a dashboard
    const existingContent = document.querySelector('body > .container, .main-content, .app-container');
    const dashboardWrapper = document.getElementById('existing-content-wrapper');
    
    if (existingContent && dashboardWrapper) {
        dashboardWrapper.appendChild(existingContent);
        console.log('‚úÖ Contenido existente movido seguramente a pesta√±a Dashboard');
    }
    
    // Inicializar sistema de pesta√±as
    initializeTabsSystem();
});

function initializeTabsSystem() {
    // L√≥gica de navegaci√≥n de pesta√±as
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    
    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const targetTab = button.dataset.tab;
            
            // Desactivar todas las pesta√±as
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Activar pesta√±a seleccionada
            button.classList.add('active');
            document.getElementById(`tab-${targetTab}`).classList.add('active');
            
            console.log(`üîÑ Cambiando a pesta√±a: ${targetTab}`);
        });
    });
    
    // Inicializar sub-pesta√±as
    initializeSubTabs();
}

function initializeSubTabs() {
    // L√≥gica de sub-pesta√±as
    const subTabButtons = document.querySelectorAll('.sub-tab-button');
    const subTabContents = document.querySelectorAll('.sub-tab-content');
    
    subTabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const parentTab = button.closest('.tab-content');
            const targetSubTab = button.dataset.subTab;
            
            // Desactivar sub-pesta√±as del mismo padre
            parentTab.querySelectorAll('.sub-tab-button').forEach(btn => btn.classList.remove('active'));
            parentTab.querySelectorAll('.sub-tab-content').forEach(content => content.classList.remove('active'));
            
            // Activar sub-pesta√±a seleccionada
            button.classList.add('active');
            parentTab.getElementById(`sub-tab-${targetSubTab}`).classList.add('active');
            
            console.log(`üîÑ Cambiando a sub-pesta√±a: ${targetSubTab}`);
        });
    });
}
</script>
